[{"content":{"code":"【设置主人@【数组@】】\n【判存@【应用目录】正则词库.db@\n【转文本【运行sql@【应用目录】正则词库.db@\n【@CREATE TABLE reply(\n   id               INTEGER   PRIMARY KEY  AUTOINCREMENT ,\n enable   INTEGER   DEFAULT (0) NOT NULL,\n  QQ   INTEGER  DEFAULT (0) NOT NULL ,\n   Group  INTEGER   DEFAULT (0) NOT NULL,\n   key            TEXT         NOT NULL,\n   reply          TEXT         NOT NULL\n);】\n】】\n】\n\n【定义命令@内容@【判断【取类型【子关键词】】@A@【判空【子关键词】@【当前消息】】@【取元素【子关键词】@0@【判空【参数@1】@1】】】】\n\n【定义命令@延时撤回@【后台运行脚本@【@【延时@【判空【参数@2】@30000】】【撤回@【参数@1】】】@【参数@1】@【参数@2】】】\n\n【定义命令@回复@[CQ:reply,id=【判空【参数@1】@【消息ID】】]】\n\n【定义命令@字转图@\n【定义变量@底图@【文字转图片@400@【参数@1】@20@【数组@0@0@0@255】@【默认字体】】】\n【图片【图片上叠加【创建图片@440@【取元素【图片信息@【变量@底图】】@高】@【数组@255@255@255@255】】@【变量@底图】@20@20】】\n】\n","关键词":"初始化词库","匹配方式":"完全匹配","触发方式":"框架初始化"},"description":"初始化及设置主人","name":"初始化及设置主人"},{"content":{"code":"【加锁@词库说明】\n\n【延时撤回@【输出流@\n【回复】【图片@【应用目录】词库说明.png】\n正则学习地址：https://www.emeditor.org/zh-cn/howto/search/search_regexp_syntax.html\n】@100000】\n\n【延时@30000】\n","关键词":"^(词库|回复|词条)(规则|设置|系统|介绍|说明|帮助)$","匹配方式":"正则匹配","触发方式":"群聊触发"},"description":"code_description","name":"词库说明"},{"content":{"code":"【延时@6】【判真【常量@【发送者id】-词库开关】@@【返回】】\n【正则判含【内容@1】@^(添|增|查|删)(加|除)?(词库|回复|词条)@@【返回】】\n【隐藏【CQ反转义【当前消息】】】\n\n【定义变量@响应@【取元素【打乱【运行sql@【应用目录】正则词库.db@\n【@SELECT key,reply FROM (\nSELECT dense_rank( ) OVER (ORDER BY id ) AS id,key,reply FROM (\nSELECT 0 AS id,key,reply FROM reply WHERE QQID = ? AND enable = 1 AND GroupID = 0 AND REGEXP(key,?)\nUNION ALL\nSELECT 1 AS id,key,reply FROM reply WHERE QQID = 0 AND enable = 1 AND GroupID = ? AND REGEXP(key,?)\nUNION ALL\nSELECT 2 AS id,key,reply FROM reply WHERE QQID = 0 AND enable = 1 AND GroupID = 0 AND REGEXP(key,?)\n)) WHERE id =1;\n】\n@【数组@【发送者ID】@【传递】@【当前群号】@【传递】@【传递】】\n】】@0】】\n\n【屏蔽【判空【变量@响应】@【返回】】】\n\n【反射执行【正则替换【传递】@\n[\\\\S\\\\s]*?【取元素【变量@响应】@0】[\\\\S\\\\s]*@\n【取元素【变量@响应】@1】\n】】\n\n","关键词":"^([\\S\\s]+)$","匹配方式":"正则匹配","触发方式":"群、私聊触发"},"description":"code_description","name":"【正则匹配】"},{"content":{"code":"【主人】【定义常量@【发送者id】-词库开关@真】【延时@10】【定义常量@【发送者id】-词库开关@】\n【正则判含【内容@1】@^(添|增|查|删)(加|除)?(词库|回复|词条)@@【返回】】\n\n【屏蔽【判空【去除两边空白【内容@2】】@【延时撤回@【输出流@【回复】回复不能为空！】@10000】【返回】】】\n【屏蔽【运行sql@【应用目录】正则词库.db@\n【@INSERT INTO reply ( key , reply)  VALUES (?,?);】\n@【数组@【CQ反转义【内容@1】】@【CQ反转义【内容@2】】】\n】】\n\n【延时撤回@【输出流@\n【回复】添加关键词'【内容@1】'词条成功！\n】@10000】\n","关键词":"^(?:添|增)加?总(?:词库|回复|词条)([^ ]+) +([\\S\\s]+)$","匹配方式":"正则匹配","触发方式":"群、私聊触发"},"description":"code_description","name":"添总词库"},{"content":{"code":"【定义常量@【发送者id】-词库开关@真】【延时@10】【定义常量@【发送者id】-词库开关@】\n【正则判含【内容@1】@^(添|增|查|删)(加|除)?(词库|回复|词条)@@【返回】】\n\n【屏蔽【判空【去除两边空白【内容@2】】@【延时撤回@【输出流@【回复】回复不能为空！】@10000】【返回】】】\n【屏蔽【运行sql@【应用目录】正则词库.db@\n【@INSERT INTO reply (GroupID ,  key , reply)  VALUES (?,?,?);】\n@【数组【当前群号】@【CQ反转义【内容@1】】@\\【\\@【CQ反转义【内容@2】】\\】】\n】】\n\n【延时撤回@【输出流@\n【回复】添加群关键词'【内容@1】'词条成功！\n】@10000】\n","关键词":"^(?:添|增)加?群(?:词库|回复|词条)([^ ]+) +([\\S\\s]+)$","匹配方式":"正则匹配","触发方式":"群聊触发"},"description":"code_description","name":"添群词库"},{"content":{"code":"【定义常量@【发送者id】-词库开关@真】【延时@10】【定义常量@【发送者id】-词库开关@】\n【正则判含【内容@1】@^(添|增|查|删)(加|除)?(词库|回复|词条)@@【返回】】\n\n【屏蔽【判空【去除两边空白【内容@2】】@【延时撤回@【输出流@【回复】回复不能为空！】@10000】【返回】】】\n【屏蔽【运行sql@【应用目录】正则词库.db@\n【@INSERT INTO reply (QQID , key , reply)  VALUES (?,?,?);】\n@【数组【发送者QQ】@【CQ反转义【内容@1】】@\\【\\@【CQ反转义【内容@2】】\\】】\n】】\n\n【延时撤回@【输出流@\n【回复】添加个人关键词'【CQ反转义【内容@1】】'词条成功！\n】@10000】\n","关键词":"^(?:添|增)加?(?:词库|回复|词条)([^ ]+) +([\\S\\s]+)$","匹配方式":"正则匹配","触发方式":"群、私聊触发"},"description":"code_description","name":"添个人词库"},{"content":{"code":"【主人】【定义常量@【发送者id】-词库开关@真】【延时@10】【定义常量@【发送者id】-词库开关@】\n【隐藏【CQ反转义【内容@2】】】\n【判断【内容@1】@查@\n【屏蔽【判空【运行sql@【应用目录】正则词库.db@\n【@SELECT key FROM reply WHERE id = ?】\n@【数组【传递】】\n】@\n【延时撤回@【输出流@【回复】\"id=【传递】\"词条不存在！】@10000】【返回】\n】】\n【屏蔽【运行sql@【应用目录】正则词库.db@\n【@DELETE FROM reply WHERE id = ?】\n@【数组【传递】】\n】】\n【延时撤回@【输出流@【回复】删除\"id=【传递】\"词条成功！】@10000】\n@\n【屏蔽【判空【内容@2】@\n【定义变量@all@【循环【运行sql@【应用目录】正则词库.db@\n【@SELECT 'id='||id as ID,'Q号='||QQID as QQ , 'key='||key as key,reply FROM reply WHERE QQID = ?\nUNION ALL\nSELECT 'id='||id as ID,'群号='||GroupID as QQGroup , 'key='||key as key,reply FROM reply WHERE GroupID = ?\n】\n@【数组【发送者id】@【当前群号】】\n】@【函数定义@\n【合并【参数@2】@；】【换行】【换行】\n】】】\n【判断【变量@all】@@【延时撤回@【输出流@\n【回复】【字转图【变量@all】】⭐发送“删词库xx”（xx为id）即可删除对应id词条！\n】@100000】@【延时撤回@【输出流@【回复】无词条响应！】@5000】】\n【返回】】】\n\n【隐藏【判空\n【循环【运行sql@【应用目录】正则词库.db@【@\nSELECT 'id='||id as ID,'总词条' as QQ , 'key='||key as key,reply FROM reply WHERE GroupID = 0 AND QQID = 0 AND REGEXP(key,?)\nUNION ALL\nSELECT 'id='||id as ID,'Q号='||QQID as QQ , 'key='||key as key,reply FROM reply WHERE GroupID = 0 AND QQID != 0 AND REGEXP(key,?)\nUNION ALL\nSELECT 'id='||id as ID,'群号='||GroupID as QQGroup , 'key='||key as key,reply FROM reply WHERE GroupID != 0 AND QQID = 0 AND REGEXP(key,?)\n】\n@【数组【传递】@【传递】@【传递】】\n】@【函数定义@\n【合并【参数@2】@；】【换行】【换行】\n】】\n@【延时撤回@【输出流@【回复】无词条响应！】@5000】【返回】】】\n【延时撤回@【输出流@\n【回复】【字转图【传递】】⭐发送“删词库xx”（xx为id）即可删除对应id词条！\n】@100000】\n】\n\n\n\n","关键词":"^(?:(查)询?(?:词库|回复|词条) *([\\S\\s]*)|(删)除?(?:词库|回复|词条) *(\\d+))$","匹配方式":"正则匹配","触发方式":"群、私聊触发"},"description":"主人专用，可删除任意词条","name":"(查|删)词条"},{"content":{"code":"【延时@3】【判真【常量@【发送者id】-词库开关】@@【返回】】【定义常量@【发送者id】-词库开关@真】【延时@6】【定义常量@【发送者id】-词库开关@】\n【隐藏【CQ反转义【内容@2】】】\n【判断【内容@1】@查@\n【屏蔽【判空【运行sql@【应用目录】正则词库.db@\n【@SELECT key FROM reply WHERE ( GroupID = ? or QQID = ? ) AND id = ?】\n@【数组【当前群号】@【发送者id】@【传递】】\n】@\n【延时撤回@【输出流@【回复】\"id=【传递】\"词条不存在！】@10000】【返回】\n】】\n【屏蔽【运行sql@【应用目录】正则词库.db@\n【@DELETE FROM reply WHERE ( GroupID = ? or QQID = ? ) AND id = ?】\n@【数组【当前群号】@【发送者id】@【传递】】\n】】\n【延时撤回@【输出流@【回复】删除\"id=【传递】\"词条成功！】@10000】\n@\n【屏蔽【判空【内容@2】@\n【定义变量@all@【循环【运行sql@【应用目录】正则词库.db@\n【@SELECT 'id='||id as ID,'Q号='||QQID as QQ , 'key='||key as key,reply FROM reply WHERE QQID = ?\nUNION ALL\nSELECT 'id='||id as ID,'群号='||GroupID as QQGroup , 'key='||key as key,reply FROM reply WHERE GroupID = ?\n】\n@【数组【发送者id】@【当前群号】】\n】@【函数定义@\n【合并【参数@2】@；】【换行】【换行】\n】】】\n【判断【变量@all】@@【延时撤回@【输出流@\n【回复】【字转图【变量@all】】⭐发送“删词库xx”（xx为id）即可删除对应id词条！\n】@100000】@【延时撤回@【输出流@【回复】无词条响应！】@5000】】\n【返回】】】\n\n【隐藏【判空\n【循环【运行sql@【应用目录】正则词库.db@\n【@SELECT 'id='||id as ID,'Q号='||QQID as QQ , 'key='||key as key,reply FROM reply WHERE QQID = ? AND REGEXP(key,?)\nUNION ALL\nSELECT 'id='||id as ID,'群号='||GroupID as QQGroup , 'key='||key as key,reply FROM reply WHERE GroupID = ? AND REGEXP(key,?)\n】\n@【数组【发送者id】@【传递】@【当前群号】@【传递】】\n】@【函数定义@\n【合并【参数@2】@；】【换行】【换行】\n】】\n@【延时撤回@【输出流@【回复】无词条响应！】@5000】【返回】】】\n【延时撤回@【输出流@\n【回复】【字转图【传递】】⭐发送“删词库xx”（xx为id）即可删除对应id词条！\n】@100000】\n】\n","关键词":"^(?:(查)询?(?:词库|回复|词条) *([\\S\\s]*)|(删)除?(?:词库|回复|词条) *(\\d+))$","匹配方式":"正则匹配","触发方式":"群、私聊触发"},"description":"个人使用，仅可删除自己或者群的","name":"(查|删)词条"},{"content":{"code":"【循环【脚本输出【取元素【事件内容】@message_id】】@【函数定义\n【撤回【参数@2】】\n】】\n","关键词":"notice:group_recall","匹配方式":"完全匹配","触发方式":"事件触发"},"description":"code_description","name":"【同步撤回】"}]